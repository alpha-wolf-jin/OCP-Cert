{"meta":{"count":1,"records":1,"page":1,"pages":1},"data":{"attributes":{"interactives":[],"page_tag":"ch06","uuid":"certificates-enterprise-ca-lecture","title":"Integrating OpenShift with an Enterprise Certificate Authority","media":[],"prev_id":"certificates","order":1,"content":{"html":"<div class=\"chapter\"><div class=\"titlepage\"><div><div><h1 class=\"title\"><a id=\"certificates\"></a>ChapterÂ 6.Â Configuring Trusted TLS Certificates</h1></div></div></div><div class=\"toc\"><dl class=\"toc\"><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-lecture\">Integrating OpenShift with an Enterprise Certificate Authority</a></span></dt><dd><dl><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_objectives\">Objectives</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_describing_the_default_wildcard_certificate\">Describing the Default Wildcard Certificate</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_changing_the_ingress_controller_operator_certificate\">Changing the Ingress Controller Operator Certificate</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_replacing_the_master_api_certificate\">Replacing the Master API Certificate</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_verifying_the_new_certificate\">Verifying the New Certificate</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_creating_an_edge_route_using_the_new_wildcard_certificate\">Creating an Edge Route Using the New Wildcard Certificate</a></span></dt><dt><span class=\"section\"><a href=\"ch06.html#certificates-enterprise-ca-_\">Â </a></span></dt></dl></dd><dt><span class=\"section\"><a href=\"ch06s02.html\">Guided Exercise: Integrating OpenShift with an Enterprise Certificate Authority</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html\">Configuring Applications to Trust the Enterprise Certificate Authority</a></span></dt><dd><dl><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_objectives\">Objectives</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_including_additional_trusted_certificate_authorities\">Including Additional Trusted Certificate Authorities</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_injecting_the_trusted_ca_bundle\">Injecting the Trusted CA Bundle</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_mounting_a_trusted_ca_bundle\">Mounting a Trusted CA Bundle</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_verifying_the_mounted_bundle\">Verifying the Mounted Bundle</a></span></dt><dt><span class=\"section\"><a href=\"ch06s03.html#certificates-app-trust-_\">Â </a></span></dt></dl></dd><dt><span class=\"section\"><a href=\"ch06s04.html\">Guided Exercise: Configuring Applications to Trust the Enterprise Certificate Authority</a></span></dt><dt><span class=\"section\"><a href=\"ch06s05.html\">Troubleshooting OpenShift Certificates</a></span></dt><dd><dl><dt><span class=\"section\"><a href=\"ch06s05.html#certificates-troubleshoot-_objectives\">Objectives</a></span></dt><dt><span class=\"section\"><a href=\"ch06s05.html#certificates-troubleshoot-_describing_common_issues_with_openshift_certificates\">Describing Common Issues with OpenShift Certificates</a></span></dt><dt><span class=\"section\"><a href=\"ch06s05.html#certificates-troubleshoot-_troubleshooting_certificates_in_openshift\">Troubleshooting Certificates in OpenShift</a></span></dt><dt><span class=\"section\"><a href=\"ch06s05.html#certificates-troubleshoot-_troubleshooting_certificates_renewal\">Troubleshooting Certificates Renewal</a></span></dt><dt><span class=\"section\"><a href=\"ch06s05.html#certificates-troubleshoot-_\">Â </a></span></dt></dl></dd><dt><span class=\"section\"><a href=\"ch06s06.html\">Guided Exercise: Troubleshooting OpenShift Certificates</a></span></dt><dt><span class=\"section\"><a href=\"ch06s07.html\">Lab: Configuring Trusted TLS Certificates</a></span></dt><dt><span class=\"section\"><a href=\"ch06s08.html\">Summary</a></span></dt></dl></div><div class=\"abstract\"><p class=\"title\"><strong>Abstract</strong></p><p>\n</p><div class=\"informaltable\"><table border=\"1\"><colgroup><col class=\"c1\"/><col class=\"c2\"/></colgroup><tbody><tr><td>\n<span class=\"bold\"><strong>Goal</strong></span>\n</td><td>\n                Configure trusted TLS certificates for external access to cluster services and applications.\n              </td></tr><tr><td>\n<span class=\"bold\"><strong>Objectives</strong></span>\n</td><td>\n<div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>\n                      Change the wildcard certificate used by the ingress controller operator.\n                    </p></li><li class=\"listitem\"><p>\n                      Configure an application to use the trusted certificate bundle.\n                    </p></li><li class=\"listitem\"><p>\n                      Describe common issues with OpenShift certificates.\n                    </p></li></ul></div>\n</td></tr><tr><td>\n<span class=\"bold\"><strong>Sections</strong></span>\n</td><td>\n<div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>\n                      Integrating OpenShift with an Enterprise Certificate Authority (and Guided Exercise)\n                    </p></li><li class=\"listitem\"><p>\n                      Configuring Applications to Trust the Enterprise Certificate Authority (and Guided Exercise)\n                    </p></li><li class=\"listitem\"><p>\n                      Troubleshooting OpenShift Certificates (and Guided Exercise)\n                    </p></li></ul></div>\n</td></tr><tr><td>\n<span class=\"bold\"><strong>Lab</strong></span>\n</td><td>\n<p>\n                  Configuring Trusted TLS Certificates\n                </p>\n</td></tr></tbody></table></div><p>\n</p></div><div class=\"section\"><div class=\"titlepage\"><div><div><h2 class=\"title\" style=\"clear: both\"><a id=\"certificates-enterprise-ca-lecture\"></a>Integrating OpenShift with an Enterprise Certificate Authority</h2></div></div></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_objectives\"></a>Objectives</h3></div></div></div><p>After completing this section, you should be able to:</p><div class=\"itemizedlist\"><ul class=\"itemizedlist compact\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>Change the wildcard certificate used by the ingress controller operator.</p></li><li class=\"listitem\"><p>Replace the master API certificate.</p></li><li class=\"listitem\"><p>Create an edge route using a wildcard certificate.</p></li></ul></div></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_describing_the_default_wildcard_certificate\"></a>Describing the Default Wildcard Certificate</h3></div></div></div><p>The RedÂ Hat OpenShift Container Platform installer creates an internal certificate authority (CA) and uses this CA to sign additional certificates.</p><p>The certificate used by the ingress controller operator is a wildcard certificate for all routes in the <code class=\"code\">.apps</code> subdomain for your cluster, such as <code class=\"code\">.apps.ocp4.example.com</code>.\nRoutes for the web console, Grafana, Prometheus, and OAuth use this same wildcard certificate.</p><p>When using the wildcard certificate signed by the internal OpenShift CA, the web console prompts users with a warning indicating that the connection is not secure.</p><div align=\"center\" class=\"mediaobject\"><table border=\"0\" style=\"cellpadding: 0; cellspacing: 0;\" summary=\"manufactured viewport for HTML img\" width=\"85%\"><tr><td align=\"center\"><img align=\"middle\" src=\"/rol-rhu/static/static_file_cache/do380-4.6/certificates/warning-insecure.png\" width=\"100%\"/></td></tr></table><div class=\"caption\">Figure 6.1: Certificate Warning</div></div><p>The <code class=\"code\">View Certificate</code> link provides details about the certificate.</p><div align=\"center\" class=\"mediaobject\"><table border=\"0\" style=\"cellpadding: 0; cellspacing: 0;\" summary=\"manufactured viewport for HTML img\" width=\"70%\"><tr><td align=\"center\"><img align=\"middle\" src=\"/rol-rhu/static/static_file_cache/do380-4.6/certificates/default-ingress-cert.png\" width=\"100%\"/></td></tr></table><div class=\"caption\">Figure 6.2: Default Ingress Certificate</div></div><p>If OpenShift certificates are not signed by a recognized certificate authority, then users attempting to access the cluster must add one or more exceptions to enable using the certificates.</p><p>Although using these exceptions might be acceptable for internal use, this solution is frequently insufficient for client-facing URLs.</p><p>Companies can use a certificate signed by a recognized certificate authority, such as Let's Encrypt, or use a certificate signed by their own enterprise certificate authority.</p><div class=\"note\" style=\"margin-left: 0.5in; margin-right: 0.5in;\"><h3 class=\"title\">Note</h3><p>The only clients that implicitly trust certificates signed by the internal OpenShift certificate authority are other components within the OpenShift cluster.\nTherefore, these certificates should not be replaced.</p></div></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_changing_the_ingress_controller_operator_certificate\"></a>Changing the Ingress Controller Operator Certificate</h3></div></div></div><p>The ingress operator configures the ingress controller to route traffic into the OpenShift environment.\nThe certificate used by the ingress controller can be updated so that it uses a certificate signed by a recognized certificate authority, or by your own enterprise CA.\nChanging the ingress controller operator to use a different certificate and its associated key only requires a handful of steps.\nBefore starting this process, you need:</p><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>The new certificate and key in PEM format.</p></li><li class=\"listitem\"><p>The certificate must have a <code class=\"code\">subjectAltName</code> extension of <code class=\"code\">*.apps.<em class=\"replaceable\"><code>&lt;OPENSHIFT-DOMAIN&gt;</code></em></code>, such as <code class=\"code\">*.apps.ocp4.example.com</code>, that enables using the certificate as a wildcard certificate for the <code class=\"code\">.apps</code> subdomain.</p></li></ul></div><div class=\"important\" style=\"margin-left: 0.5in; margin-right: 0.5in;\"><h3 class=\"title\">Important</h3><p>Changing the certificate used by the ingress controller operator does not affect certificates signed by the internal OpenShift certificate authority.</p></div><p>To begin, create a new configuration map in the <code class=\"code\">openshift-config</code> namespace.</p><p>Prefix the file path with <code class=\"code\">ca-bundle.crt=</code> to name the data key in the configuration map as <code class=\"code\">ca-bundle.crt</code>.\nThis configuration map can contain one or more certificates.\nFor example, you can combine the new wildcard certificate and the certificate authority used to sign the wildcard certificate into one file.\nAdd these certificates to the certificate bundle if additional certificates are needed to proxy out of your cluster.</p><p>Although it may not seem intuitive, some OpenShift components communicate with each other using external-facing URLs.</p><p>Adding your certificates to the cluster proxy ensures that your web console pods can trust the authentication pods and vice versa.</p><p>This step is not needed if the certificate is signed by a certificate authority that already exists in the RedÂ Hat CoreOS (RHCOS) trust bundle.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc create configmap <em class=\"replaceable\"><code>&lt;CONFIGMAP-NAME&gt;</code></em> \\\n  --from-file ca-bundle.crt=<em class=\"replaceable\"><code>&lt;PATH-TO-CERTIFICATE&gt;</code></em> \\\n  -n openshift-config</code></strong></pre><p>Configure the cluster proxy to use the new configuration map.\nThis step injects the certificate information contained in your configuration map into other configuration maps labeled with <code class=\"code\">config.openshift.io/inject-trusted-cabundle=true</code>.</p><p>As with the preceding step, this step is not needed if the certificate is signed by a certificate authority that already exists in the RHCOS trust bundle.</p><p>There are several ways to modify the cluster proxy, such as using <code class=\"code\">oc edit</code>, <code class=\"code\">oc patch</code>, or modifying a configuration file under version control and then using <code class=\"code\">oc apply</code>.</p><p>Additional changes to the cluster proxy can support a custom PKI infrastructure.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc patch proxy/cluster --type=merge \\\n  --patch='{\"spec\":{\"trustedCA\":{\"name\":\"<em class=\"replaceable\"><code>&lt;CONFIGMAP-NAME&gt;</code></em>\"}}}'</code></strong></pre><div class=\"important\" style=\"margin-left: 0.5in; margin-right: 0.5in;\"><h3 class=\"title\">Important</h3><p>If you fail to perform the preceding two steps when using a certificate signed by your enterprise CA, then you will be unable to log into the web console.</p></div><p>Create a new TLS secret in the <code class=\"code\">openshift-ingress</code> namespace using the new certificate and its corresponding key.\nThe OpenShift ingress operator uses this secret.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc create secret tls <em class=\"replaceable\"><code>&lt;SECRET-NAME&gt;</code></em> \\\n  --cert <em class=\"replaceable\"><code>&lt;PATH-TO-CERTIFICATE&gt;</code></em> \\\n  --key <em class=\"replaceable\"><code>&lt;PATH-TO-KEY&gt;</code></em> \\\n  -n openshift-ingress</code></strong></pre><p>Modify the default ingress controller operator in the <code class=\"code\">openshift-ingress-operator</code> namespace so that <code class=\"code\">defaultCertificate</code> uses the newly created secret.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc patch ingresscontroller.operator/default \\\n  -n openshift-ingress-operator --type=merge \\\n  --patch='{\"spec\": {\"defaultCertificate\": {\"name\": \"<em class=\"replaceable\"><code>&lt;SECRET-NAME&gt;</code></em>\"}}}'</code></strong></pre><p>If the change is successful, then new router pods in the <code class=\"code\">openshift-ingress</code> namespace deploy and change to a running status.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>watch oc get pods -n openshift-ingress</code></strong></pre></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_replacing_the_master_api_certificate\"></a>Replacing the Master API Certificate</h3></div></div></div><p>The OpenShift master API uses a different certificate than the certificate used by the ingress controller.\nChanging the master API certificate allows users to log in securely using the <code class=\"code\">oc</code> command.\nAs with the ingress controller certificate, a certificate signed by a recognized certificate authority or by your company enterprise CA can replace the master API certificate.</p><p>To change the master API certificate, you need:</p><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>The master API certificate and key in PEM format.</p></li><li class=\"listitem\"><p>The certificate is issued to the URL used to access the master API, such as <code class=\"code\">api.ocp4.example.com</code>.</p></li><li class=\"listitem\"><p>The <code class=\"code\">subjectAltName</code> extension for the certificate contains the URL used to access the master API, such as <code class=\"code\">DNS:api.ocp4.example.com</code>.</p></li><li class=\"listitem\"><p>If the certificate is signed by your enterprise CA, then you can create a combined certificate by concatenating the master API certificate and the CA certificate into one PEM file.\nConcatenate additional certificates into the combined PEM file as necessary to establish a chain of trust.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>cat <em class=\"replaceable\"><code>WILDCARD</code></em>.pem <em class=\"replaceable\"><code>CA</code></em>.pem &gt; <em class=\"replaceable\"><code>COMBINED-CERT</code></em>.pem</code></strong></pre></li></ul></div><p>Change the master API certificate with the following steps.\nCreate a new TLS secret in the <code class=\"code\">openshift-config</code> namespace using the master API certificate and key.\nUse the combined PEM certificate file for the <code class=\"code\">--cert</code> option if you created one.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc create secret tls <em class=\"replaceable\"><code>&lt;SECRET-NAME&gt;</code></em> \\\n  --cert <em class=\"replaceable\"><code>&lt;PATH-TO-CERTIFICATE&gt;</code></em> \\\n  --key <em class=\"replaceable\"><code>&lt;PATH-TO-KEY&gt;</code></em> \\\n  -n openshift-config</code></strong></pre><p>Modify the cluster API server to use the new secret.</p><p>This can be accomplished by using <code class=\"code\">oc edit</code>, <code class=\"code\">oc patch</code>, or by modifying a file under version control and then using <code class=\"code\">oc apply</code>.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc patch apiserver cluster --type=merge \\\n  -p '{\"spec\": {\"servingCerts\": {\"namedCertificates\":'\\\n  '[{\"names\": [\"<em class=\"replaceable\"><code>&lt;API-SERVER-URL&gt;</code></em>\"],'\\\n  '\"servingCertificate\": {\"name\": \"<em class=\"replaceable\"><code>&lt;SECRET-NAME&gt;</code></em>\"}}]}}}'</code></strong></pre><p>If the API server updated successfully, then new <code class=\"code\">kube-apiserver</code> pods in the <code class=\"code\">openshift-kube-apiserver</code> namespace are created.</p><p>The <code class=\"code\">kube-apiserver</code> cluster operator transitions to a progressing state while the pods are created.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc get clusteroperator/kube-apiserver</code></strong>\nNAME             VERSION   AVAILABLE   <code class=\"code\">PROGRESSING</code>   DEGRADED   SINCE\nkube-apiserver   4.6.36    True        <code class=\"code\">True</code>          False      7d</pre><p>The pods are ready when the <code class=\"code\">kube-apiserver</code> cluster operator is no longer progressing.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc get clusteroperator/kube-apiserver</code></strong>\nNAME             VERSION   AVAILABLE   <code class=\"code\">PROGRESSING</code>   DEGRADED   SINCE\nkube-apiserver   4.6.36    True        <code class=\"code\">False</code>         False      7d\n\n[user@host ~]$ <strong class=\"userinput\"><code>oc get pods -l app=openshift-kube-apiserver \\\n  -n openshift-kube-apiserver\"</code></strong>\nNAME                      READY   <code class=\"code\">STATUS</code>    RESTARTS   AGE\nkube-apiserver-master01   5/5     <code class=\"code\">Running</code>   0          9m4s\nkube-apiserver-master02   5/5     <code class=\"code\">Running</code>   0          5m52s\nkube-apiserver-master03   5/5     <code class=\"code\">Running</code>   0          2m</pre><div class=\"note\" style=\"margin-left: 0.5in; margin-right: 0.5in;\"><h3 class=\"title\">Note</h3><p>It can take ten minutes or more before all of the <code class=\"code\">kube-apiserver</code> pods finish deploying.</p></div></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_verifying_the_new_certificate\"></a>Verifying the New Certificate</h3></div></div></div><p>Your system can be configured to trust your enterprise CA using the following two steps:</p><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>Copy your enterprise CA certificate to the <code class=\"code\">/etc/pki/ca-trust/source/anchors</code> directory.\nChange the name of the certificate if it conflicts with an existing file name in that directory.</p></li><li class=\"listitem\"><p>Run the <code class=\"code\">update-ca-trust extract</code> command.</p></li></ul></div><p>Access the web console to verify the new certificate.\nUse the <code class=\"code\">oc whoami</code> command to find the web console URL.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc whoami --show-console</code></strong>\nhttps://console-openshift-console.apps.ocp4.example.com</pre><p>After you enter the URL in your web browser, the web console displays with a lock icon in the URL address bar indicating that the connection is secure.</p><p>If your enterprise certificate authority signed the certificate, then you web browser might indicate that it does not recognize the certificate issuer.</p><div align=\"center\" class=\"mediaobject\"><table border=\"0\" style=\"cellpadding: 0; cellspacing: 0;\" summary=\"manufactured viewport for HTML img\" width=\"70%\"><tr><td align=\"center\"><img align=\"middle\" src=\"/rol-rhu/static/static_file_cache/do380-4.6/certificates/secure-web-console.png\" width=\"100%\"/></td></tr></table><div class=\"caption\">Figure 6.3: Secured Firefox Connection</div></div><p>If a recognized certificate authority signed the master API certificate, or if you configure your system to trust your enterprise CA, then you can log in securely using the <code class=\"code\">oc login</code> command.</p><p>If you had previously logged in insecurely, you can delete the <code class=\"code\">~/.kube</code> directory before using the <code class=\"code\">oc login</code> command.</p><p>Alternatively, use the <code class=\"code\">--certificate-authority</code> option with the <code class=\"code\">oc login</code> command to specify the location of the CA certificate used to sign the master API certificate.</p></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_creating_an_edge_route_using_the_new_wildcard_certificate\"></a>Creating an Edge Route Using the New Wildcard Certificate</h3></div></div></div><p>Both new and existing OpenShift applications can immediately take advantage of the new wildcard certificate by creating an edge route.\nWhile an edge route only secures traffic between the router and the user, it does not require making any modifications to the application container image.</p><p>You can still use re-encrypt routes and pass-through routes to secure traffic between the user and the application pods.</p><p>Use the <code class=\"code\">oc create route edge</code> to create a new edge route.</p><pre class=\"screen\">[user@host ~]$ <strong class=\"userinput\"><code>oc create route edge <em class=\"replaceable\"><code>&lt;ROUTE-NAME&gt;</code></em> --service <em class=\"replaceable\"><code>&lt;SERVICE&gt;</code></em></code></strong></pre><div class=\"important\" style=\"margin-left: 0.5in; margin-right: 0.5in;\"><h3 class=\"title\">Important</h3><p>When using a wildcard certificate signed by an enterprise CA, any device not configured to trust the CA will require the user to make an exception in order to allow using the certificate.\nThis is especially true for external customers.</p></div></div><div class=\"section\"><div class=\"titlepage\"><div><div><h3 class=\"title\"><a id=\"certificates-enterprise-ca-_\"></a>Â </h3></div></div></div><div class=\"note references\"><h3 class=\"title\">References</h3><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>For more information, refer to the <em class=\"citetitle\">Configuring certificates</em> chapter in the RedÂ Hat OpenShift Container PlatformÂ 4.6 <em class=\"citetitle\">Authentication</em> documentation at <a class=\"ulink\" href=\"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/security_and_compliance/index#configuring-certificates\" target=\"_top\">https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/security_and_compliance/index#configuring-certificates</a>\n</p></li><li class=\"listitem\"><p>For more information, refer to the <em class=\"citetitle\">Configuring the cluster wide proxy</em> chapter in the Red HatÂ OpenShift Container PlatformÂ 4.6 <em class=\"citetitle\">Networking</em> documentation at <a class=\"ulink\" href=\"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/networking/index#enable-cluster-wide-proxy\" target=\"_top\">https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/networking/index#enable-cluster-wide-proxy</a>\n</p></li><li class=\"listitem\"><p>For more information, refer to the <em class=\"citetitle\">Adding API server certificates</em> section in the <em class=\"citetitle\">Configuring certificates</em> chapter in the RedÂ Hat OpenShift Container PlatformÂ 4.6 <em class=\"citetitle\">Security and compliance</em> documentation at <a class=\"ulink\" href=\"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/security_and_compliance/index#api-server-certificates\" target=\"_top\">https://access.redhat.com/documentation/en-us/openshift_container_platform/4.6/html-single/security_and_compliance/index#api-server-certificates</a>\n</p></li></ul></div></div></div></div></div>"},"parent_id":"certificates","depth":3,"tasks":{},"next_tag":"ch06s02","document_index":49,"id_tag":"do380-4.6_certificates-enterprise-ca-lecture_en-US","path":"/book/chapter[6]/section[1]","next_id":"certificates-enterprise-ca-practice","type":"section","children":[]},"type":"course_page","id":1},"links":{"self":"/rol-rhu/api/courses/do380-4.6/pages/ch06?lang=en-US"},"warnings":[]}øÃ¹¼p      bzn­bzn­DBŠCbzn­   P    :https://role.rhu.redhat.com/rol-rhu/api/courses/do380-4.6/pages/ch06?lang=en-US necko:classified 1 strongly-framed 1 security-info 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 request-method GET request-Accept application/json, text/plain, */* request-Accept-Language en-US,en;q=0.5 request-Cookie dQTldEjgkLIKMDCZwRE/MbDH9/c= response-head HTTP/2.0 200 OK
server: nginx
date: Tue, 10 May 2022 13:54:53 GMT
content-type: application/json
vary: Accept, Accept-Language, Cookie
content-language: en
allow: GET, HEAD, OPTIONS
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
strict-transport-security: max-age=31536000; includeSubDomains
x-xss-protection: 1; mode=block
content-security-policy: base-uri 'self';
timing-allow-origin: *
X-Firefox-Spdy: h2
 original-response-headers server: nginx
date: Tue, 10 May 2022 13:54:53 GMT
content-type: application/json
vary: Accept, Accept-Language, Cookie
content-language: en
allow: GET, HEAD, OPTIONS
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
strict-transport-security: max-age=31536000; includeSubDomains
x-xss-protection: 1; mode=block
content-security-policy: base-uri 'self';
timing-allow-origin: *
X-Firefox-Spdy: h2
 ctid 1 eTLD1Access 1;0;3423907821, net-response-time-onstart 182 net-response-time-onstop 184   h